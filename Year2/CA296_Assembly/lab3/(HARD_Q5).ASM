; =================== AND IT'S A MESS... =============================



ORG C0
DB "BECAUSE IM BATMAN"
DB 0				; MARKS END OF STRING


ORG 0
MOV [BB],AL			; EACH MEM LOC. STORES VOWEL COUNT
MOV [BC],AL
MOV [BD],AL
MOV [BE],AL
MOV [BF],AL
;MOV DL,B5
;MOV AL,FF
;MOV [DL],AL			; START OF "STACK"
INC DL
MOV AL,0			; USED TO CLEAR VDU
MOV BL,C0

JMP LOOP
LOOP:
	MOV CL,[BL]		; LOOP CHECKS FOR VOWELS
	CMP CL,41
	JZ A			; IF VOWEL, JUMP TO RISE		
	CMP CL,45
	JZ E
	CMP CL,49
	JZ I
	CMP CL,4F
	JZ O
	CMP CL,55
	JZ U
	MOV [BL],AL		; CLEARS VDU (SAME AS DB 0, EXCEPT W/OUT IT)
	INC BL
	CMP CL,0		; CHECK IF WE REACHED END OF STRING
	JNZ LOOP

	MOV BL,C0		; MADE IT EASIER FOR APPEND LABEL TO WORK
	;MOV AL,BB
	MOV CL,C0		; IF ERROR, PUT FF INSTEAD OF C0
	JMP APPEND

;RISE:				; "PUSH" VOWELS TO "STACK"
;	MOV AL,0
;	MOV [DL],CL
;	INC DL
;	MOV [BL],AL
;	INC BL
;	JMP LOOP

APPEND:				; PLACES VOWELS BACK INTO VDU
	;MOV AL,[DL]
	CMP BL,CL		; BEFORE PROCEEDING, CHECK IF REACHED END
	JZ ENDING		; OF "STACK OF COUNTS" IN MEM LOC.
	;MOV AL,41
	;MOV [BL],AL		; CAN'T REALLY DO MUCH, OVERWRITING MY COUNTS
	;INC BL
	;MOV AL,3A
	;MOV [BL],AL
	
	INC BL
	DEC DL
	JMP APPEND

A:
	MOV AL,[BB]
	INC AL
	MOV [BB],AL
	MOV AL,0
	MOV [BL],AL
	INC BL
	JMP LOOP

E:
	MOV AL,[BC]
	INC AL
	MOV [BC],AL
	MOV AL,0
	MOV [BL],AL
	INC BL
	JMP LOOP

JOOP:
	JMP LOOP

I:
	MOV AL,[BD]
	INC AL
	MOV [BD],AL
	MOV AL,0
	MOV [BL],AL
	INC BL
	JMP JOOP


O:
	MOV AL,[BE]
	INC AL
	MOV [BE],AL
	MOV AL,0
	MOV [BL],AL
	INC BL
	JMP JOOP


U:
	MOV AL,[BF]
	INC AL
	MOV [BF],AL
	MOV AL,0
	MOV [BL],AL
	INC BL
	JMP JOOP

ENDING:
	END